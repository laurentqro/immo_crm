# Client fixtures for testing
# Each client belongs to an organization from organizations.yml

# Natural person in organization :one
natural_person:
  organization: one
  name: "Jean-Pierre Martin"
  client_type: "NATURAL_PERSON"
  nationality: "FR"
  residence_country: "MC"
  is_pep: false
  risk_level: "LOW"
  became_client_at: <%= 1.year.ago %>

# Legal entity in organization :one
legal_entity:
  organization: one
  name: "Monaco Investments SARL"
  client_type: "LEGAL_ENTITY"
  legal_person_type: "SARL"
  nationality: "MC"
  residence_country: "MC"
  is_pep: false
  risk_level: "MEDIUM"
  business_sector: "Finance"
  became_client_at: <%= 6.months.ago %>

# Second legal entity in organization :one (for testing owner not belonging to client)
legal_entity_two:
  organization: one
  name: "Second Corp SA"
  client_type: "LEGAL_ENTITY"
  legal_person_type: "SA"
  nationality: "MC"
  residence_country: "MC"
  is_pep: false
  risk_level: "LOW"
  became_client_at: <%= 3.months.ago %>

# Legal entity with beneficial owners (for cascade delete test)
legal_entity_with_owners:
  organization: one
  name: "Corp With Owners"
  client_type: "LEGAL_ENTITY"
  legal_person_type: "SCI"
  nationality: "MC"
  residence_country: "MC"
  is_pep: false
  risk_level: "LOW"
  became_client_at: <%= 2.months.ago %>

# Trust in organization :one
trust:
  organization: one
  name: "Martin Family Trust"
  client_type: "TRUST"
  nationality: "MC"
  residence_country: "MC"
  is_pep: false
  risk_level: "MEDIUM"
  became_client_at: <%= 8.months.ago %>
  trustee_name: "Monaco Trust Services"
  trustee_nationality: "MC"
  trustee_country: "MC"
  is_professional_trustee: true

# PEP client in organization :one
pep_client:
  organization: one
  name: "Pierre Dupont"
  client_type: "NATURAL_PERSON"
  nationality: "MC"
  residence_country: "MC"
  is_pep: true
  pep_type: "DOMESTIC"
  risk_level: "HIGH"
  became_client_at: <%= 4.months.ago %>

# High risk client in organization :one
high_risk_client:
  organization: one
  name: "Risky Business LLC"
  client_type: "LEGAL_ENTITY"
  legal_person_type: "OTHER"
  nationality: "RU"
  residence_country: "RU"
  is_pep: false
  risk_level: "HIGH"
  business_sector: "Consulting"
  became_client_at: <%= 5.months.ago %>

# Client with ended relationship (for active scope test)
ended_relationship:
  organization: one
  name: "Former Client"
  client_type: "NATURAL_PERSON"
  nationality: "FR"
  residence_country: "FR"
  is_pep: false
  risk_level: "LOW"
  became_client_at: <%= 2.years.ago %>
  relationship_ended_at: <%= 1.month.ago %>

# Discarded (soft-deleted) client
discarded_client:
  organization: one
  name: "Deleted Client"
  client_type: "NATURAL_PERSON"
  nationality: "IT"
  residence_country: "IT"
  is_pep: false
  risk_level: "LOW"
  became_client_at: <%= 1.year.ago %>
  deleted_at: <%= 1.week.ago %>

# Client in organization :two (for cross-tenant isolation tests)
other_org_client:
  organization: two
  name: "Other Org Client"
  client_type: "NATURAL_PERSON"
  nationality: "FR"
  residence_country: "FR"
  is_pep: false
  risk_level: "LOW"
  became_client_at: <%= 3.months.ago %>

# Legal entity in organization :two (for cross-tenant beneficial owner tests)
other_org_legal_entity:
  organization: two
  name: "Other Org Corp"
  client_type: "LEGAL_ENTITY"
  legal_person_type: "SARL"
  nationality: "FR"
  residence_country: "FR"
  is_pep: false
  risk_level: "LOW"
  became_client_at: <%= 2.months.ago %>

# Client in organization :company (for policy tests)
company_client:
  organization: company
  name: "Company Test Client"
  client_type: "NATURAL_PERSON"
  nationality: "MC"
  residence_country: "MC"
  is_pep: false
  risk_level: "LOW"
  became_client_at: <%= 1.month.ago %>

# VASP client
vasp_client:
  organization: one
  name: "Crypto Exchange Monaco"
  client_type: "LEGAL_ENTITY"
  legal_person_type: "SAM"
  nationality: "MC"
  residence_country: "MC"
  is_pep: false
  is_vasp: true
  vasp_type: "EXCHANGE"
  risk_level: "HIGH"
  business_sector: "Cryptocurrency"
  became_client_at: <%= 2.months.ago %>

# =============================================================================
# XBRL Compliance Test Fixtures (T010-T013)
# These fixtures provide deterministic data for calculation verification.
# All belong to compliance_test_org with predictable values for assertions.
# =============================================================================

# T010: Natural person clients (calc_natural_1 through calc_natural_10)
# Used to verify a1102 (natural person count) = 10
calc_natural_1:
  organization: compliance_test_org
  name: "Compliance Natural Person 1"
  client_type: "NATURAL_PERSON"
  nationality: "FR"
  residence_country: "MC"
  is_pep: false
  risk_level: "LOW"
  became_client_at: <%= 6.months.ago %>

calc_natural_2:
  organization: compliance_test_org
  name: "Compliance Natural Person 2"
  client_type: "NATURAL_PERSON"
  nationality: "DE"
  residence_country: "MC"
  is_pep: false
  risk_level: "LOW"
  became_client_at: <%= 6.months.ago %>

calc_natural_3:
  organization: compliance_test_org
  name: "Compliance Natural Person 3"
  client_type: "NATURAL_PERSON"
  nationality: "IT"
  residence_country: "MC"
  is_pep: false
  risk_level: "LOW"
  became_client_at: <%= 6.months.ago %>

calc_natural_4:
  organization: compliance_test_org
  name: "Compliance Natural Person 4"
  client_type: "NATURAL_PERSON"
  nationality: "MC"
  residence_country: "MC"
  is_pep: false
  risk_level: "MEDIUM"
  became_client_at: <%= 6.months.ago %>

calc_natural_5:
  organization: compliance_test_org
  name: "Compliance Natural Person 5"
  client_type: "NATURAL_PERSON"
  nationality: "FR"
  residence_country: "FR"
  is_pep: false
  risk_level: "LOW"
  became_client_at: <%= 6.months.ago %>

calc_natural_6:
  organization: compliance_test_org
  name: "Compliance Natural Person 6"
  client_type: "NATURAL_PERSON"
  nationality: "GB"
  residence_country: "MC"
  is_pep: false
  risk_level: "LOW"
  became_client_at: <%= 6.months.ago %>

calc_natural_7:
  organization: compliance_test_org
  name: "Compliance Natural Person 7"
  client_type: "NATURAL_PERSON"
  nationality: "ES"
  residence_country: "MC"
  is_pep: false
  risk_level: "LOW"
  became_client_at: <%= 6.months.ago %>

calc_natural_8:
  organization: compliance_test_org
  name: "Compliance Natural Person 8"
  client_type: "NATURAL_PERSON"
  nationality: "CH"
  residence_country: "MC"
  is_pep: false
  risk_level: "LOW"
  became_client_at: <%= 6.months.ago %>

calc_natural_9:
  organization: compliance_test_org
  name: "Compliance Natural Person 9"
  client_type: "NATURAL_PERSON"
  nationality: "BE"
  residence_country: "MC"
  is_pep: false
  risk_level: "LOW"
  became_client_at: <%= 6.months.ago %>

calc_natural_10:
  organization: compliance_test_org
  name: "Compliance Natural Person 10"
  client_type: "NATURAL_PERSON"
  nationality: "NL"
  residence_country: "MC"
  is_pep: false
  risk_level: "LOW"
  became_client_at: <%= 6.months.ago %>

# T011: Legal entity clients (calc_legal_1 through calc_legal_5)
# Used to verify a11502B (legal entity count) = 5
calc_legal_1:
  organization: compliance_test_org
  name: "Compliance Legal Entity 1 SARL"
  client_type: "LEGAL_ENTITY"
  legal_person_type: "SARL"
  nationality: "MC"
  residence_country: "MC"
  is_pep: false
  risk_level: "LOW"
  business_sector: "Real Estate"
  became_client_at: <%= 6.months.ago %>

calc_legal_2:
  organization: compliance_test_org
  name: "Compliance Legal Entity 2 SA"
  client_type: "LEGAL_ENTITY"
  legal_person_type: "SA"
  nationality: "MC"
  residence_country: "MC"
  is_pep: false
  risk_level: "MEDIUM"
  business_sector: "Finance"
  became_client_at: <%= 6.months.ago %>

calc_legal_3:
  organization: compliance_test_org
  name: "Compliance Legal Entity 3 SCI"
  client_type: "LEGAL_ENTITY"
  legal_person_type: "SCI"
  nationality: "MC"
  residence_country: "MC"
  is_pep: false
  risk_level: "LOW"
  business_sector: "Real Estate"
  became_client_at: <%= 6.months.ago %>

calc_legal_4:
  organization: compliance_test_org
  name: "Compliance Legal Entity 4 SAM"
  client_type: "LEGAL_ENTITY"
  legal_person_type: "SAM"
  nationality: "MC"
  residence_country: "MC"
  is_pep: false
  risk_level: "LOW"
  business_sector: "Commerce"
  became_client_at: <%= 6.months.ago %>

calc_legal_5:
  organization: compliance_test_org
  name: "Compliance Legal Entity 5 LLC"
  client_type: "LEGAL_ENTITY"
  legal_person_type: "OTHER"
  nationality: "FR"
  residence_country: "MC"
  is_pep: false
  risk_level: "LOW"
  business_sector: "Consulting"
  became_client_at: <%= 6.months.ago %>

# T012: PEP clients (calc_pep_1 and calc_pep_2)
# Used to verify a1301 (PEP count) = 2
calc_pep_1:
  organization: compliance_test_org
  name: "Compliance PEP Client 1"
  client_type: "NATURAL_PERSON"
  nationality: "FR"
  residence_country: "MC"
  is_pep: true
  pep_type: "DOMESTIC"
  risk_level: "HIGH"
  became_client_at: <%= 6.months.ago %>

calc_pep_2:
  organization: compliance_test_org
  name: "Compliance PEP Client 2"
  client_type: "NATURAL_PERSON"
  nationality: "MC"
  residence_country: "MC"
  is_pep: true
  pep_type: "FOREIGN"
  risk_level: "HIGH"
  became_client_at: <%= 6.months.ago %>

# T013: Trust client (calc_trust_1)
# Used to verify trust count calculations
calc_trust_1:
  organization: compliance_test_org
  name: "Compliance Family Trust"
  client_type: "TRUST"
  nationality: "MC"
  residence_country: "MC"
  is_pep: false
  risk_level: "MEDIUM"
  became_client_at: <%= 6.months.ago %>
  trustee_name: "Compliance Trust Company"
  trustee_nationality: "MC"
  trustee_country: "MC"
  is_professional_trustee: true
